-- SnapRehab Location Factor Data
-- 3-digit zip code prefix to cost adjustment multiplier
-- Source: HUD Construction Cost Indices (national averages)
-- combined_factor = blended material + labor adjustment

INSERT INTO public.location_factors (zip_prefix, city, state, material_factor, labor_factor, combined_factor, data_source) VALUES
-- Northeast
('010', 'Springfield', 'MA', 1.05, 1.20, 1.13, 'hud_cci'),
('021', 'Boston', 'MA', 1.08, 1.35, 1.22, 'hud_cci'),
('030', 'Manchester', 'NH', 1.02, 1.10, 1.06, 'hud_cci'),
('040', 'Portland', 'ME', 1.02, 1.08, 1.05, 'hud_cci'),
('050', 'Burlington', 'VT', 1.03, 1.10, 1.07, 'hud_cci'),
('060', 'Hartford', 'CT', 1.06, 1.28, 1.17, 'hud_cci'),
('070', 'Newark', 'NJ', 1.07, 1.40, 1.24, 'hud_cci'),
('080', 'Camden', 'NJ', 1.06, 1.32, 1.19, 'hud_cci'),
('100', 'New York', 'NY', 1.12, 1.55, 1.34, 'hud_cci'),
('110', 'Long Island', 'NY', 1.10, 1.48, 1.29, 'hud_cci'),
('120', 'Albany', 'NY', 1.04, 1.18, 1.11, 'hud_cci'),
('130', 'Syracuse', 'NY', 1.03, 1.12, 1.08, 'hud_cci'),
('140', 'Buffalo', 'NY', 1.04, 1.18, 1.11, 'hud_cci'),
('150', 'Pittsburgh', 'PA', 1.03, 1.20, 1.12, 'hud_cci'),
('170', 'Harrisburg', 'PA', 1.01, 1.10, 1.06, 'hud_cci'),
('190', 'Philadelphia', 'PA', 1.06, 1.38, 1.22, 'hud_cci'),
('191', 'Philadelphia', 'PA', 1.06, 1.38, 1.22, 'hud_cci'),
('028', 'Providence', 'RI', 1.04, 1.18, 1.11, 'hud_cci'),

-- Mid-Atlantic / DC
('200', 'Washington', 'DC', 1.05, 1.30, 1.18, 'hud_cci'),
('210', 'Baltimore', 'MD', 1.03, 1.22, 1.13, 'hud_cci'),
('220', 'Northern Virginia', 'VA', 1.03, 1.15, 1.09, 'hud_cci'),
('230', 'Richmond', 'VA', 0.98, 1.02, 1.00, 'hud_cci'),
('240', 'Roanoke', 'VA', 0.95, 0.92, 0.94, 'hud_cci'),
('250', 'Charleston', 'WV', 0.96, 0.95, 0.96, 'hud_cci'),
('197', 'Wilmington', 'DE', 1.04, 1.22, 1.13, 'hud_cci'),

-- Southeast
('270', 'Raleigh', 'NC', 0.96, 0.92, 0.94, 'hud_cci'),
('282', 'Charlotte', 'NC', 0.96, 0.90, 0.93, 'hud_cci'),
('290', 'Columbia', 'SC', 0.93, 0.85, 0.89, 'hud_cci'),
('294', 'Charleston', 'SC', 0.95, 0.88, 0.92, 'hud_cci'),
('300', 'Atlanta', 'GA', 0.97, 0.95, 0.96, 'hud_cci'),
('310', 'Atlanta Metro', 'GA', 0.97, 0.95, 0.96, 'hud_cci'),
('320', 'Jacksonville', 'FL', 0.96, 0.88, 0.92, 'hud_cci'),
('327', 'Orlando', 'FL', 0.97, 0.90, 0.94, 'hud_cci'),
('330', 'Miami', 'FL', 1.02, 1.05, 1.04, 'hud_cci'),
('336', 'Tampa', 'FL', 0.97, 0.90, 0.94, 'hud_cci'),
('350', 'Birmingham', 'AL', 0.94, 0.85, 0.90, 'hud_cci'),
('370', 'Nashville', 'TN', 0.96, 0.92, 0.94, 'hud_cci'),
('371', 'Nashville', 'TN', 0.96, 0.92, 0.94, 'hud_cci'),
('380', 'Memphis', 'TN', 0.95, 0.88, 0.92, 'hud_cci'),
('390', 'Jackson', 'MS', 0.92, 0.82, 0.87, 'hud_cci'),
('395', 'Biloxi', 'MS', 0.93, 0.84, 0.89, 'hud_cci'),
('700', 'New Orleans', 'LA', 0.96, 0.90, 0.93, 'hud_cci'),
('710', 'Shreveport', 'LA', 0.93, 0.85, 0.89, 'hud_cci'),
('716', 'Baton Rouge', 'LA', 0.95, 0.88, 0.92, 'hud_cci'),
('720', 'Little Rock', 'AR', 0.93, 0.85, 0.89, 'hud_cci'),

-- Midwest
('430', 'Columbus', 'OH', 0.98, 0.98, 0.98, 'hud_cci'),
('440', 'Cleveland', 'OH', 1.01, 1.12, 1.07, 'hud_cci'),
('450', 'Cincinnati', 'OH', 0.97, 0.98, 0.98, 'hud_cci'),
('460', 'Indianapolis', 'IN', 0.96, 0.96, 0.96, 'hud_cci'),
('480', 'Detroit', 'MI', 1.01, 1.15, 1.08, 'hud_cci'),
('490', 'Grand Rapids', 'MI', 0.97, 0.98, 0.98, 'hud_cci'),
('530', 'Milwaukee', 'WI', 1.02, 1.15, 1.09, 'hud_cci'),
('535', 'Madison', 'WI', 1.00, 1.08, 1.04, 'hud_cci'),
('540', 'Green Bay', 'WI', 0.98, 1.02, 1.00, 'hud_cci'),
('550', 'Minneapolis', 'MN', 1.03, 1.18, 1.11, 'hud_cci'),
('570', 'Sioux Falls', 'SD', 0.95, 0.88, 0.92, 'hud_cci'),
('580', 'Fargo', 'ND', 0.96, 0.90, 0.93, 'hud_cci'),
('600', 'Chicago suburbs', 'IL', 1.05, 1.30, 1.18, 'hud_cci'),
('606', 'Chicago', 'IL', 1.06, 1.35, 1.21, 'hud_cci'),
('610', 'Rockford', 'IL', 1.00, 1.08, 1.04, 'hud_cci'),
('620', 'Springfield', 'IL', 0.97, 0.98, 0.98, 'hud_cci'),
('630', 'St. Louis', 'MO', 1.00, 1.10, 1.05, 'hud_cci'),
('640', 'Kansas City', 'MO', 1.00, 1.08, 1.04, 'hud_cci'),
('650', 'Springfield', 'MO', 0.94, 0.88, 0.91, 'hud_cci'),
('500', 'Des Moines', 'IA', 0.97, 0.98, 0.98, 'hud_cci'),
('660', 'Topeka', 'KS', 0.95, 0.92, 0.94, 'hud_cci'),
('670', 'Wichita', 'KS', 0.95, 0.90, 0.93, 'hud_cci'),
('680', 'Omaha', 'NE', 0.97, 0.95, 0.96, 'hud_cci'),

-- South Central / Texas
('730', 'Oklahoma City', 'OK', 0.94, 0.88, 0.91, 'hud_cci'),
('740', 'Tulsa', 'OK', 0.94, 0.88, 0.91, 'hud_cci'),
('750', 'Dallas', 'TX', 0.97, 0.92, 0.95, 'hud_cci'),
('760', 'Fort Worth', 'TX', 0.96, 0.90, 0.93, 'hud_cci'),
('770', 'Houston', 'TX', 0.97, 0.92, 0.95, 'hud_cci'),
('780', 'San Antonio', 'TX', 0.95, 0.88, 0.92, 'hud_cci'),
('786', 'Austin', 'TX', 0.98, 0.95, 0.97, 'hud_cci'),
('790', 'Amarillo', 'TX', 0.93, 0.85, 0.89, 'hud_cci'),
('795', 'El Paso', 'TX', 0.93, 0.85, 0.89, 'hud_cci'),
('797', 'Midland', 'TX', 0.95, 0.90, 0.93, 'hud_cci'),

-- Mountain West
('800', 'Denver', 'CO', 1.02, 1.05, 1.04, 'hud_cci'),
('810', 'Colorado Springs', 'CO', 0.98, 0.98, 0.98, 'hud_cci'),
('820', 'Cheyenne', 'WY', 0.97, 0.95, 0.96, 'hud_cci'),
('830', 'Boise', 'ID', 0.97, 0.92, 0.95, 'hud_cci'),
('840', 'Salt Lake City', 'UT', 0.99, 1.00, 1.00, 'hud_cci'),
('850', 'Phoenix', 'AZ', 0.99, 0.95, 0.97, 'hud_cci'),
('852', 'Phoenix Metro', 'AZ', 0.99, 0.95, 0.97, 'hud_cci'),
('855', 'Tucson', 'AZ', 0.96, 0.90, 0.93, 'hud_cci'),
('870', 'Albuquerque', 'NM', 0.96, 0.90, 0.93, 'hud_cci'),
('590', 'Billings', 'MT', 0.97, 0.92, 0.95, 'hud_cci'),
('890', 'Las Vegas', 'NV', 1.02, 1.10, 1.06, 'hud_cci'),
('895', 'Reno', 'NV', 1.00, 1.05, 1.03, 'hud_cci'),

-- Pacific West
('900', 'Los Angeles', 'CA', 1.08, 1.38, 1.23, 'hud_cci'),
('910', 'Pasadena', 'CA', 1.07, 1.35, 1.21, 'hud_cci'),
('920', 'San Diego', 'CA', 1.06, 1.30, 1.18, 'hud_cci'),
('930', 'Santa Barbara', 'CA', 1.08, 1.35, 1.22, 'hud_cci'),
('935', 'San Luis Obispo', 'CA', 1.06, 1.28, 1.17, 'hud_cci'),
('940', 'San Francisco', 'CA', 1.15, 1.55, 1.35, 'hud_cci'),
('945', 'Oakland', 'CA', 1.12, 1.48, 1.30, 'hud_cci'),
('950', 'San Jose', 'CA', 1.14, 1.52, 1.33, 'hud_cci'),
('956', 'Sacramento', 'CA', 1.05, 1.25, 1.15, 'hud_cci'),
('958', 'Sacramento Metro', 'CA', 1.05, 1.25, 1.15, 'hud_cci'),
('960', 'Redding', 'CA', 1.03, 1.18, 1.11, 'hud_cci'),
('970', 'Portland', 'OR', 1.04, 1.15, 1.10, 'hud_cci'),
('972', 'Portland Metro', 'OR', 1.04, 1.15, 1.10, 'hud_cci'),
('974', 'Eugene', 'OR', 1.02, 1.08, 1.05, 'hud_cci'),
('980', 'Seattle', 'WA', 1.06, 1.25, 1.16, 'hud_cci'),
('981', 'Seattle Metro', 'WA', 1.06, 1.25, 1.16, 'hud_cci'),
('984', 'Tacoma', 'WA', 1.04, 1.18, 1.11, 'hud_cci'),
('990', 'Spokane', 'WA', 1.00, 1.05, 1.03, 'hud_cci'),
('995', 'Anchorage', 'AK', 1.25, 1.40, 1.33, 'hud_cci'),
('967', 'Honolulu', 'HI', 1.30, 1.45, 1.38, 'hud_cci')

ON CONFLICT (zip_prefix) DO UPDATE SET
  combined_factor = EXCLUDED.combined_factor,
  material_factor = EXCLUDED.material_factor,
  labor_factor = EXCLUDED.labor_factor;
